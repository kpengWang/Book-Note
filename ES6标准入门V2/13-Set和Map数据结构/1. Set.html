<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>1. Set</title>
</head>

<body>
  <script>
    let s = new Set()
    let arr = [2, 3, 5, 4, 5, 2, 2]
    const obj = {
      name: 'kyle'
    }

    arr.map(x => s.add(x))
    for (const i of s) {
      console.log(i) // 2 3 5 4
    }
    // 判断类型
    console.log(s instanceof Set)

    // 将Set转为Array
    console.log([...s])
    console.log(Array.from(s))

    // 改变Set结构
    let s1 = new Set([...s].map(val => val * 2))
    console.log('s1==>', s1)
    let s2 = new Set(Array.from(s, val => val / 2))
    console.log('s2==>', s2)

    // size
    console.log('s.size==>', s.size)

    // 添加某个值
    s.add(7)
    s.add(obj)
    s.add(obj)
    s.add(obj)
    console.log('add s==>', s)

    // 删除值
    s.delete(3)
    console.log('delete s==>', s)

    // 判断值
    console.log('has s==>', s.has(2))

    // 清空值
    // s.clear()
    console.log('clear s==>', s.size)

    // ////////////////////////////////////
    // Set结构没有键名，只有键值，keys和values返回结果一样

    // keys()
    let keys = s.keys()
    console.log('keys==>', keys)
    for (const item of keys) {
      console.log(item)
      // 2
      // 5
      // 4
      // 7
      // {name:'kyle'}
    }

    // values
    let values = s.values()
    console.log('keys==>', values)
    for (const item of values) {
      console.log(item)
      // 2
      // 5
      // 4
      // 7
      // {name:'kyle'}
    }
    let keys2 = keys

    console.log(keys === values) // false
    console.log(Object.is(keys, values)) // false

    // entries
    let entries = s.entries()
    console.log('entries==>', entries)
    for (const item of entries) {
      console.log(item)
      // [2,2]
      // [5,5]
      // [4,4]
      // [7,7]
      // [{name:'kyle'},{name:'kyle'}]
    }


    let a = new Set([1, 3, 5])
    let b = new Set([3, 2, 1])

    // ////////////////////////////////////
    // 求并集、交集、差集

    // 并集
    let union = [...new Set([...a, ...b])]
    console.log('并集==>', union)

    // 交集
    let intersect = [...new Set([...a].filter(item => b.has(item)))]
    console.log('交集==>', intersect)

    // 差集
    let difference = [...new Set([...a].filter(item => !b.has(item)))]
    console.log('差集==>', difference)
  </script>
</body>

</html>
