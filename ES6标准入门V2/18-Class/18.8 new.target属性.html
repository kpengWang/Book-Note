<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>18.8 new.target属性</title>
</head>

<body>
  <script>
    //1. new.target 返回 new 命令所作用的构造函数
    //2. 如果构造函数不是通过 new 命令调用，那么new.target返回undefined
    //3. 子类继承父类时，new.target会返回子类,可以利用new.target写不能独立使用必须继承后才能用的类

    function Foo1() {
      console.log('new.target1==>', new.target !== undefined ? 'used new' : 'unused new')

      if (new.target === Foo1) {
        // throw new Error('本类不能实例化')
      }
    }

    let foo1 = new Foo1()
    foo1 = Foo1()

    class Foo2 extends Foo1 {
      constructor() {
        super()
        console.log('new.target2==>', new.target !== undefined ? 'used new' : 'unused new')
      }
    }
    
    let foo2 = new Foo2()
  </script>
</body>

</html>
